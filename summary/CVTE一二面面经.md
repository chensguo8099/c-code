## CVTE面经
### 一面（40min左右
1. 说一下你的项目，比如文件秒传、大文件分块这种，然后问现在如果要实现多线程方式，如何对文件进行分块？就说了下按照索引各自进行一定偏移(最后想了下发现分块不应该采用多线程的方式，因为往磁盘写的时候磁头只有一个，尽管采用的多线程去分块，实际上和单线程分块的效果是一样的，甚至因为多线程之间的线程同步问题，可能会导致效率下降，所以分块还是采用单线程的方式，只不过可以考虑创建一个线程池直接拉起一个线程完成分块)
2. 说下进程间通信的方式主要有哪些，谈谈你对它们的理解，比如管道分为什么，它有什么特点，然后信号量balabala乱扯(首先进程间通信的方式有：管道、信号、消息队列、共享内存、信号量、套接字；管道比较简单，匿名管道只能用于有血缘关系的进程间通信，数据只能向一个方向流动，单独构成一种文件系统，并且只存在与内存中..)[[链接]](https://www.jianshu.com/p/c1015f5ffa74)
3. 如果现在有三个线程，分别打印123，如何实现线程按照123123123..的顺序进行打印。（我说的是加锁抢占资源，然后面试官说这种效率较低，让我考虑信号量，没答上来随便说了下。(补充一下，应该是假如有三个线程，现在thread1打印1，thread2打印2，thread3打印3，可以初始让thread1的信号量为1，其他两个信号量为0，然后当1信号量为0时唤起2的信号量，当2的信号量为0后唤起3的信号量，3的信号量为0后再唤起1的信号量，则实现了有序的打印123123123...)
4. 问了我在I/O复用的时候（比如对于select），什么情况下会触发写事件？（他给我说了一个是当TCP缓冲区为空时触发好像，记不清了
5. 讲一讲TCP如何实现可靠传输的，我说了下通过其重传机制、确认机制、滑动窗口这种，然后问了下我滑动窗口如果发送12345，接收方接受了1245，那么TCP如何处理解决？然后又问了拥塞控制，让我用图画出来（我大概画了下理想情况和拥塞情况，然后就是死锁），然后问是如何对拥塞进行解决的，没答上来。（实际上是通过慢启动、拥塞避免、快重传、快恢复，如果能够根据拥塞控制算法扯到谷歌的BBR拥塞控制算法就更好了）
6. 问了C++的虚函数，然后说说const,static,extern,volatile这些关键字。（const修饰指针的时候如果是const * / * const两者含义不同，然后成员函数用const修饰的话只能使用const类型的成员变量，如果成员函数用static修饰的话，只能用static类型的成员变量，然后static对关键字来说，当定义一个static成员变量时，static属于整个类，而不属于其中某个对象，其次static全局变量限定了该全局变量只能在这个文件中使用，如果其他文件使用extern关键字用这个全局变量，是无法访问的，同时static在函数中修饰局部变量时，默认初始为0（若未初始化的话），下次调用该函数时static变量的值为上次的值，volatile关键字使用的场景在于当一个变量被多次调用时可能被放在了寄存器中，且寄存器中的值改变以后但是内存中的值未发生改变，此时如果需要获取内存中实际值而非从寄存器中取时，则用volatile修饰，一般情况下即使我们用volatile修饰了某个变量，但是编译器会根据自己情况选择是否为我们定义的变量使用volatile修饰）
7. 问了下进程地址空间布局，需要注意的是`.bss`段保存的是未初始化的全局变量，常量，静态变量，`.data`段保存的是已初始化的全局变量，常量，静态变量。然后就让我手写了个简单的编程题，像“abcda”这种字符串，统计并返回重复最多的字符串，当时说的是用一个数组，下表对应字符的ASCII，然后给数组附初值为0，每出现一次某字符，在对应ASCII对应角标的数组++，找出最大值返回角标这种。

### 二面（45min左右
1. 继续聊项目
2. 如果用多线程分块，如何操作？如何处理线程同步问题？我还在扯锁相关的，答的不好（经过后续思考，实际上对文件分块计算md5的整个过程，分为文件分块和计算，先说分块，当对文件进行分块的时候需要思考我们到底是用多少线程进行分块才合适？我在网上看到有一部分答案是这样说的，说若采用多线程进行分块，会提升命中CPU的概率，也就是说会获取更多的CPU时间，这个时候执行的效率也随之上升，会增加分块的速度，但是这是一种错误的解释，我认为正确的解释应该是：当文件进行分块处理的时候，是上层逻辑对磁盘文件的处理，当我采用多个线程和采用一个线程分块处理时，所展现的结果是一样的，因为磁盘IO是瓶颈所在，不论采用多线程分块还是单线程分块，电脑磁盘上的磁头都只有一个，如果采用多线程去分块处理，反而要考虑线程同步的问题，同样还会面临一些复杂的业务逻辑，多线程创建还要消耗资源，是一种不明治的做法，最重要的还是多线程分块和单线程分块的预期效果是一样的，甚至多线程分块处理可能会更慢，所以这一点我还在扯线程同步及解决方法，确实答的不好）。
3. 问我C++线程类中实现，这个我不会，就跟他说了下C语言的线程函数。（后面我会尝试封装一个线程类，同时在项目中与其采用多线程方式，不如创建线程池，牺牲内存空间来换取效率的提高（避免使用时才开始创建））
4. 然后聊了聊C++，让我写了一下`operator+`，然后问了重载写为成员函数和全局函数时有哪些区别？（我说的是比如所属作用域、只有将重载定义为成员函数能够使用类`private`。
5. 最后让我用类封装一个循环链表，最后我征求意见选择了C语言，写了一半跟他说了思路，思路是对的。
